!function(n){var t={};function c(l){if(t[l])return t[l].exports;var e=t[l]={i:l,l:!1,exports:{}};return n[l].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=n,c.c=t,c.d=function(n,t,l){c.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:l})},c.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,t){if(1&t&&(n=c(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var l=Object.create(null);if(c.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var e in n)c.d(l,e,function(t){return n[t]}.bind(null,e));return l},c.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(t,"a",t),t},c.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},c.p="",c(c.s=0)}([function(module,exports,__webpack_require__){"use strict";eval("\r\n// service worker registration - remove if you're not going to use it\r\n// import {DOMelements} from \"/base.js\";\r\n\r\nif ('serviceWorker' in navigator) {\r\n    window.addEventListener('load', function () {\r\n        navigator.serviceWorker.register('serviceworker.js').then(function (registration) {\r\n            // Registration was successful\r\n            // console.log('ServiceWorker registration successful with scope: ', registration.scope);\r\n        }, function (err) {\r\n            // registration failed :(\r\n            // console.log('ServiceWorker registration failed: ', err);\r\n        });\r\n    });\r\n}\r\n\r\n// place your code below\r\nconst settingsImage = document.querySelector(\".settings__image\");\r\nconst temp = document.querySelector('.info__item--temperature--js');\r\nconst humidity = document.querySelector('.info__item--humidity--js');\r\nconst clouds = document.querySelector('.info__item--clouds--js');\r\nconst wind = document.querySelector('.info__item--wind--js');\r\nconst sunrise = document.querySelector('.info__item--sunrise--js');\r\nconst sunset = document.querySelector('.info__item--sunset--js');\r\nconst searchButton = document.querySelector(\".searchButton\");\r\nconst currentlocation = document.querySelector('.current__location');\r\nconst cities = document.querySelector('.cities');\r\nconst settingsList = document.querySelector('.settings__list');\r\nconst cities__toEditList = document.querySelector('.cities__toEditList');\r\nconst hamburger = document.querySelector('.hamburger--js');\r\nconst settings = document.querySelector('.settings--js');\r\nconst about = document.querySelector(\".settings__item--about\");\r\nconst editCitiesList = document.querySelector(\".settings__item--edit\");\r\nconst modal = document.getElementById(\"myModal\");\r\nconst today = document.querySelector(\".current__days--today\");\r\nconst tomorrow = document.querySelector(\".current__days--tomorrow\");\r\nconst time = document.querySelector('.current__time');\r\nconst url = \"https://api.weatherapi.com/v1/forecast.json?key=3f1ad206d1b94436825173623201101&q=\";\r\nconst main = document.querySelector(\".main\");\r\n// let localTime;\r\n\r\nlet citiesList = ['Wrocław', 'Katowice', 'Krakow', 'Warszawa', 'Torun']\r\nlet condition;\r\nlet city;\r\nlet urlWheather;\r\n\r\nwindow.onload = function () {\r\n    generateCitiesList();\r\n    time.innerHTML = new Date().getHours() + \":\" + new Date().getMinutes();\r\n    let loc = navigator.geolocation;\r\n    if (loc) {\r\n        loc.getCurrentPosition(function (location) {\r\n            const lat = location.coords.latitude;\r\n            const lon = location.coords.longitude;\r\n            fetch(url + lat + \",\" + lon)\r\n                .then(resp => resp.json())\r\n                .then(resp => {\r\n                    city = resp.location.name;\r\n                    getValuesToday();\r\n                    // localTime = new Date(info.location.localtime).getHours() + \":\" + new Date(info.location.localtime).getMinutes();\r\n\r\n                })\r\n                .catch(err => {\r\n                    console.error(\"Błąd ładowania danych\")\r\n                });\r\n        });\r\n    } else {\r\n        console.log(\"Nie udostępniono lokalizacji\");\r\n    }\r\n    // getValuesToday();\r\n// time.innerHTML = localTime.getMinutes();\r\n};\r\n\r\neditCitiesList.addEventListener('click', () => {\r\n    cities__toEditList.innerHTML = \"\";\r\n    cities__toEditList.classList.toggle(\"cities__toEditList--visible\");\r\n    settingsList.classList = \"settings__list\";\r\n    citiesList.forEach(e => {\r\n        let element = document.createElement('section')\r\n        cities__toEditList.appendChild(element)\r\n        element.classList.add('cities__toEditList__item')\r\n        // element.style.order = citiesList.indexOf(e)\r\n        element.innerText = e;\r\n        element.addEventListener('click', showOptions);\r\n    })\r\n\r\n    // citiesList.addEventListener('click', showOptions);\r\n});\r\n\r\n// function generateCitiesList() {\r\n//     citiesList.forEach(e => {\r\n//         let element = document.createElement('section')\r\n//         cities__toEditList.appendChild(element)\r\n//         element.classList.add('cities__toEditList__item')\r\n//         element.style.order = citiesList.indexOf(e)\r\n//         element.innerText = e;\r\n//         element.addEventListener('click', showOptions);\r\n//     })\r\n// }\r\n\r\nfunction showOptions() {\r\n    // this.style.visibility = \"hidden\";\r\n    // this.repl\r\n    let options = document.createElement('section')\r\n    let editButton = document.createElement('div')\r\n    let inputEditButton = document.createElement('div')\r\n    let deleteButton = document.createElement('div')\r\n    cities__toEditList.appendChild(options)\r\n    options.appendChild(editButton)\r\n    options.appendChild(deleteButton)\r\n    options.appendChild(inputEditButton)\r\n    options.classList.add('toEditList__item--options')\r\n    editButton.classList.add('toEditList__item--options--edit')\r\n    inputEditButton.innerHTML = \"<input type='text' name='name' id='edited' class='editCityinput'/>\";\r\n    deleteButton.classList.add('toEditList__item--options--delete')\r\n    editButton.innerText = 'Edytuj';\r\n    deleteButton.innerText = 'Usun';\r\n    console.log(citiesList);\r\n    console.log(citiesList.indexOf(this.innerHTML));\r\n\r\n    let currentCity = this.innerHTML;\r\n    this.replaceWith(options);\r\n    deleteButton.addEventListener('click', function () {\r\n        citiesList.splice(citiesList.indexOf(currentCity), 1);\r\n        cities__toEditList.innerHTML = \"\";\r\n        // generateCitiesList();\r\n        citiesList.forEach(e => {\r\n            let element = document.createElement('section')\r\n            cities__toEditList.appendChild(element)\r\n            element.classList.add('cities__toEditList__item')\r\n            element.style.order = citiesList.indexOf(e)\r\n            element.innerText = e;\r\n            element.addEventListener('click', showOptions);\r\n            // document.querySelectorAll('.cities__item').forEach(e => e.parentNode.removeChild(e));\r\n            console.log(citiesList)\r\n        })\r\n    });\r\n    editButton.addEventListener(\"click\", (e) => {\r\n        // let currentCity = editButton.textContent;\r\n        // console.log(currentCity)\r\n        let indexToRemove = citiesList.indexOf(currentCity);\r\n        deleteButton.style.display = 'none';\r\n        editButton.style.display = 'none';\r\n        let inputField = document.getElementById('edited');\r\n        inputField.style.opacity = 1;\r\n        // document.getElementById('edited').classList += ` placeholder = ${currentCity}`;\r\n\r\n        console.log(citiesList)\r\n        let a = document.getElementById('edited');\r\n        a.addEventListener('blur', ()=>{\r\n            let newCity = a.value;\r\n            citiesList.splice(indexToRemove,1 , newCity);\r\n            inputField.style.opacity = 0;\r\n\r\n            let element = document.createElement('section')\r\n            cities__toEditList.appendChild(element)\r\n            element.classList.add('cities__toEditList__item')\r\n            // element.style.order = citiesList.indexOf(e)\r\n            element.innerText = newCity;\r\n            element.addEventListener('click', showOptions);\r\n            inputField.replaceWith(element)\r\n        })\r\n\r\n\r\n        console.log(citiesList)\r\n        // console.log(a)\r\n\r\n\r\n        // editButton.replaceWith(edited)\r\n\r\n        // editButton.innerHTML = \"<input type='text' name='name' id='edited' class='editCityinput'/>\";\r\n        // editButton.innerHTML = \"<input type='search' class='cities__item--input' id='customcity' name='customcity' placeholder='Edit'>\";\r\n        // let inputText = this.innerHTML()\r\n        // tempInput.replaceWith(inputText)\r\n\r\n        // let save = function () {\r\n        //     let p = ('<p data-editable />').text(inputText.value);\r\n        //     inputText.replaceWith(p);\r\n        // }\r\n        // inputText.addEventListener('blur', save);\r\n\r\n        // deleteButton.style.display = 'none';\r\n        // // this.classList.add('toEditList__item--options--edit--input')\r\n        // // editButton.classList.add('toEditList__item--options--edit--input')\r\n        // editButton.innerHTML = `<input type=\"text\" class='editCityinput' placeholder= ${currentCity}>`;\r\n    });\r\n}\r\n\r\nabout.addEventListener('click', () => {\r\n    modal.style.display = \"block\";\r\n});\r\n\r\nwindow.addEventListener('click', (e) => {\r\n    if (e.target === modal) {\r\n        modal.style.display = \"none\";\r\n    }\r\n    generateCitiesList();\r\n})\r\n\r\ntoday.addEventListener('click', getValuesToday);\r\n\r\ntomorrow.addEventListener('click', getValuesTomorrow);\r\n\r\nhamburger.addEventListener('click', showCityList);\r\n\r\nsettings.addEventListener('click', showSettingsList);\r\n\r\nsearchButton.addEventListener('click', () => {\r\n        city = document.getElementById(\"customcity\").value;\r\n        getValuesToday();\r\n    }\r\n);\r\n\r\ncities.addEventListener('click', function (e) {\r\n    if (e.target.className === (\"cities__item\")) {\r\n        city = e.target.textContent;\r\n        console.log(city);\r\n        getValuesToday();\r\n    }\r\n    cities.classList.toggle(\"cities--visible\");\r\n    hamburger.classList.toggle('hamburger--active');\r\n});\r\n\r\nfunction showCityList() {\r\n    // if(modal.style.display==='block'){\r\n    hamburger.classList.toggle('hamburger--active');\r\n    cities.classList.toggle(\"cities--visible\");\r\n    // elementNodeListOf.\r\n    generateCitiesList();\r\n    // }\r\n}\r\n\r\nfunction generateCitiesList() {\r\n    document.querySelectorAll('.cities__item').forEach(e => e.parentNode.removeChild(e));\r\n    citiesList.forEach(e => {\r\n        let element = document.createElement('section')\r\n        cities.appendChild(element)\r\n        element.classList.add('cities__item')\r\n        element.innerText = e;\r\n    })\r\n}\r\n\r\nfunction showSettingsList() {\r\n    settingsList.classList.toggle(\"settings__list--visible\");\r\n    settingsImage.classList.toggle('settings__image--active');\r\n    cities__toEditList.classList.remove('cities__toEditList--visible');\r\n}\r\n\r\n\r\n// function showCurrentTime() {\r\n//     // let local = localTime;\r\n//     time.innerHTML = `${localTime.getHours()} : ${localTime.getMinutes()} : ${localTime.getSeconds()}`;\r\n//     window.requestAnimationFrame(showCurrentTime);\r\n// }\r\n// window.requestAnimationFrame(showCurrentTime);\r\n\r\nfunction getValuesToday() {\r\n    currentlocation.innerHTML = city;\r\n    urlWheather = url + city;\r\n    fetch(urlWheather)\r\n        .then(resp => resp.json())\r\n        .then(resp => {\r\n            const info = resp;\r\n            // var dateToshow = new Date(info.location.localtime);\r\n            // time.innerHTML = dateToshow.getHours() + \":\" + dateToshow.getMinutes();\r\n            // localTime = new Date(info.location.localtime);\r\n            // console.log(localTime)\r\n            temp.innerHTML = info.current.temp_c + \"°C\";\r\n            humidity.innerHTML = info.current.humidity + \"%\";\r\n            clouds.innerHTML = info.current.cloud + \"%\";\r\n            wind.innerHTML = info.current.wind_kph + \" km/h\";\r\n            condition = info.current.condition.code;\r\n            console.log(info.current.condition.text);\r\n            sunrise.innerHTML = info.forecast.forecastday[0].astro.sunrise;\r\n            sunset.innerHTML = info.forecast.forecastday[0].astro.sunset;\r\n            setBackground(condition);\r\n        })\r\n        .catch(err => {\r\n            console.error(\"Błąd ładowania danych\")\r\n        });\r\n\r\n}\r\n\r\nfunction setBackground(condition) {\r\n    switch (condition) {\r\n        case 1000:\r\n            main.style.backgroundImage = 'url(\"assets/img/sunny.jpg\")';\r\n            break;\r\n        case 1003:\r\n            main.style.backgroundImage = 'url(\"assets/img/cloudy.jpg\")';\r\n            break;\r\n        case 1006:\r\n            main.style.backgroundImage = 'url(\"assets/img/cloudy.jpg\")';\r\n            break;\r\n        case 1009:\r\n            main.style.backgroundImage = 'url(\"assets/img/overcast.jpg\")';\r\n            break;\r\n        case 1030:\r\n            main.style.backgroundImage = 'url(\"assets/img/mist.jpg\")';\r\n            break;\r\n        case 1063:\r\n            main.style.backgroundImage = 'url(\"assets/img/patchyrain.jpg\")';\r\n            break;\r\n        case 1066:\r\n            main.style.backgroundImage = 'url(\"assets/img/patchysnow.jpg\")';\r\n            break;\r\n        case 1189:\r\n            main.style.backgroundImage = 'url(\"assets/img/moderaterain.jpg\")';\r\n            break;\r\n        case 1258:\r\n            main.style.backgroundImage = 'url(\"assets/img/snowshower.jpg\")';\r\n            break;\r\n        default:\r\n            main.style.backgroundColor = '$blue';\r\n    }\r\n}\r\n\r\nfunction getValuesTomorrow() {\r\n    currentlocation.innerHTML = city;\r\n    urlWheather = url + city + \"&days=2\";\r\n    fetch(urlWheather)\r\n        .then(resp => resp.json())\r\n        .then(resp => {\r\n            const info = resp;\r\n            temp.innerHTML = info.forecast.forecastday[1].day.maxtemp_c + \"°C\";\r\n            humidity.innerHTML = info.forecast.forecastday[1].day.avghumidity + \"%\";\r\n            clouds.innerHTML = \"\";\r\n            condition = info.current.condition.code;\r\n            wind.innerHTML = info.forecast.forecastday[1].day.maxwind_kph + \" km/h\";\r\n            sunrise.innerHTML = info.forecast.forecastday[1].astro.sunrise;\r\n            sunset.innerHTML = info.forecast.forecastday[1].astro.sunset;\r\n            setBackground(condition);\r\n        })\r\n        .catch(err => {\r\n            console.error(\"Błąd ładowania danych\")\r\n        });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi5qcz85MjkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSxXQUFXLFlBQVk7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxZQUFZOztBQUV4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOzs7QUFHVDtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRixZQUFZO0FBQ3ZHLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLDJCQUEyQixxQkFBcUIsS0FBSyx1QkFBdUIsS0FBSyx1QkFBdUI7QUFDeEc7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuLy8gc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIC0gcmVtb3ZlIGlmIHlvdSdyZSBub3QgZ29pbmcgdG8gdXNlIGl0XHJcbi8vIGltcG9ydCB7RE9NZWxlbWVudHN9IGZyb20gXCIvYmFzZS5qc1wiO1xyXG5cclxuaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCdzZXJ2aWNld29ya2VyLmpzJykudGhlbihmdW5jdGlvbiAocmVnaXN0cmF0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIFJlZ2lzdHJhdGlvbiB3YXMgc3VjY2Vzc2Z1bFxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnU2VydmljZVdvcmtlciByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCB3aXRoIHNjb3BlOiAnLCByZWdpc3RyYXRpb24uc2NvcGUpO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgLy8gcmVnaXN0cmF0aW9uIGZhaWxlZCA6KFxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnU2VydmljZVdvcmtlciByZWdpc3RyYXRpb24gZmFpbGVkOiAnLCBlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIHBsYWNlIHlvdXIgY29kZSBiZWxvd1xyXG5jb25zdCBzZXR0aW5nc0ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZXR0aW5nc19faW1hZ2VcIik7XHJcbmNvbnN0IHRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5mb19faXRlbS0tdGVtcGVyYXR1cmUtLWpzJyk7XHJcbmNvbnN0IGh1bWlkaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluZm9fX2l0ZW0tLWh1bWlkaXR5LS1qcycpO1xyXG5jb25zdCBjbG91ZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5mb19faXRlbS0tY2xvdWRzLS1qcycpO1xyXG5jb25zdCB3aW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluZm9fX2l0ZW0tLXdpbmQtLWpzJyk7XHJcbmNvbnN0IHN1bnJpc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5mb19faXRlbS0tc3VucmlzZS0tanMnKTtcclxuY29uc3Qgc3Vuc2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluZm9fX2l0ZW0tLXN1bnNldC0tanMnKTtcclxuY29uc3Qgc2VhcmNoQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2hCdXR0b25cIik7XHJcbmNvbnN0IGN1cnJlbnRsb2NhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50X19sb2NhdGlvbicpO1xyXG5jb25zdCBjaXRpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2l0aWVzJyk7XHJcbmNvbnN0IHNldHRpbmdzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5nc19fbGlzdCcpO1xyXG5jb25zdCBjaXRpZXNfX3RvRWRpdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2l0aWVzX190b0VkaXRMaXN0Jyk7XHJcbmNvbnN0IGhhbWJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXItLWpzJyk7XHJcbmNvbnN0IHNldHRpbmdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNldHRpbmdzLS1qcycpO1xyXG5jb25zdCBhYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2V0dGluZ3NfX2l0ZW0tLWFib3V0XCIpO1xyXG5jb25zdCBlZGl0Q2l0aWVzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2V0dGluZ3NfX2l0ZW0tLWVkaXRcIik7XHJcbmNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteU1vZGFsXCIpO1xyXG5jb25zdCB0b2RheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3VycmVudF9fZGF5cy0tdG9kYXlcIik7XHJcbmNvbnN0IHRvbW9ycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jdXJyZW50X19kYXlzLS10b21vcnJvd1wiKTtcclxuY29uc3QgdGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50X190aW1lJyk7XHJcbmNvbnN0IHVybCA9IFwiaHR0cHM6Ly9hcGkud2VhdGhlcmFwaS5jb20vdjEvZm9yZWNhc3QuanNvbj9rZXk9M2YxYWQyMDZkMWI5NDQzNjgyNTE3MzYyMzIwMTEwMSZxPVwiO1xyXG5jb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xyXG4vLyBsZXQgbG9jYWxUaW1lO1xyXG5cclxubGV0IGNpdGllc0xpc3QgPSBbJ1dyb2PFgmF3JywgJ0thdG93aWNlJywgJ0tyYWtvdycsICdXYXJzemF3YScsICdUb3J1biddXHJcbmxldCBjb25kaXRpb247XHJcbmxldCBjaXR5O1xyXG5sZXQgdXJsV2hlYXRoZXI7XHJcblxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgZ2VuZXJhdGVDaXRpZXNMaXN0KCk7XHJcbiAgICB0aW1lLmlubmVySFRNTCA9IG5ldyBEYXRlKCkuZ2V0SG91cnMoKSArIFwiOlwiICsgbmV3IERhdGUoKS5nZXRNaW51dGVzKCk7XHJcbiAgICBsZXQgbG9jID0gbmF2aWdhdG9yLmdlb2xvY2F0aW9uO1xyXG4gICAgaWYgKGxvYykge1xyXG4gICAgICAgIGxvYy5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24gKGxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhdCA9IGxvY2F0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcclxuICAgICAgICAgICAgY29uc3QgbG9uID0gbG9jYXRpb24uY29vcmRzLmxvbmdpdHVkZTtcclxuICAgICAgICAgICAgZmV0Y2godXJsICsgbGF0ICsgXCIsXCIgKyBsb24pXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHJlc3AuanNvbigpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2l0eSA9IHJlc3AubG9jYXRpb24ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZXNUb2RheSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvY2FsVGltZSA9IG5ldyBEYXRlKGluZm8ubG9jYXRpb24ubG9jYWx0aW1lKS5nZXRIb3VycygpICsgXCI6XCIgKyBuZXcgRGF0ZShpbmZvLmxvY2F0aW9uLmxvY2FsdGltZSkuZ2V0TWludXRlcygpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQsWCxIVkIMWCYWRvd2FuaWEgZGFueWNoXCIpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJOaWUgdWRvc3TEmXBuaW9ubyBsb2thbGl6YWNqaVwiKTtcclxuICAgIH1cclxuICAgIC8vIGdldFZhbHVlc1RvZGF5KCk7XHJcbi8vIHRpbWUuaW5uZXJIVE1MID0gbG9jYWxUaW1lLmdldE1pbnV0ZXMoKTtcclxufTtcclxuXHJcbmVkaXRDaXRpZXNMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgY2l0aWVzX190b0VkaXRMaXN0LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBjaXRpZXNfX3RvRWRpdExpc3QuY2xhc3NMaXN0LnRvZ2dsZShcImNpdGllc19fdG9FZGl0TGlzdC0tdmlzaWJsZVwiKTtcclxuICAgIHNldHRpbmdzTGlzdC5jbGFzc0xpc3QgPSBcInNldHRpbmdzX19saXN0XCI7XHJcbiAgICBjaXRpZXNMaXN0LmZvckVhY2goZSA9PiB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJylcclxuICAgICAgICBjaXRpZXNfX3RvRWRpdExpc3QuYXBwZW5kQ2hpbGQoZWxlbWVudClcclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NpdGllc19fdG9FZGl0TGlzdF9faXRlbScpXHJcbiAgICAgICAgLy8gZWxlbWVudC5zdHlsZS5vcmRlciA9IGNpdGllc0xpc3QuaW5kZXhPZihlKVxyXG4gICAgICAgIGVsZW1lbnQuaW5uZXJUZXh0ID0gZTtcclxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd09wdGlvbnMpO1xyXG4gICAgfSlcclxuXHJcbiAgICAvLyBjaXRpZXNMaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd09wdGlvbnMpO1xyXG59KTtcclxuXHJcbi8vIGZ1bmN0aW9uIGdlbmVyYXRlQ2l0aWVzTGlzdCgpIHtcclxuLy8gICAgIGNpdGllc0xpc3QuZm9yRWFjaChlID0+IHtcclxuLy8gICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKVxyXG4vLyAgICAgICAgIGNpdGllc19fdG9FZGl0TGlzdC5hcHBlbmRDaGlsZChlbGVtZW50KVxyXG4vLyAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2l0aWVzX190b0VkaXRMaXN0X19pdGVtJylcclxuLy8gICAgICAgICBlbGVtZW50LnN0eWxlLm9yZGVyID0gY2l0aWVzTGlzdC5pbmRleE9mKGUpXHJcbi8vICAgICAgICAgZWxlbWVudC5pbm5lclRleHQgPSBlO1xyXG4vLyAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93T3B0aW9ucyk7XHJcbi8vICAgICB9KVxyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiBzaG93T3B0aW9ucygpIHtcclxuICAgIC8vIHRoaXMuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XHJcbiAgICAvLyB0aGlzLnJlcGxcclxuICAgIGxldCBvcHRpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpXHJcbiAgICBsZXQgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBsZXQgaW5wdXRFZGl0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIGxldCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgY2l0aWVzX190b0VkaXRMaXN0LmFwcGVuZENoaWxkKG9wdGlvbnMpXHJcbiAgICBvcHRpb25zLmFwcGVuZENoaWxkKGVkaXRCdXR0b24pXHJcbiAgICBvcHRpb25zLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbilcclxuICAgIG9wdGlvbnMuYXBwZW5kQ2hpbGQoaW5wdXRFZGl0QnV0dG9uKVxyXG4gICAgb3B0aW9ucy5jbGFzc0xpc3QuYWRkKCd0b0VkaXRMaXN0X19pdGVtLS1vcHRpb25zJylcclxuICAgIGVkaXRCdXR0b24uY2xhc3NMaXN0LmFkZCgndG9FZGl0TGlzdF9faXRlbS0tb3B0aW9ucy0tZWRpdCcpXHJcbiAgICBpbnB1dEVkaXRCdXR0b24uaW5uZXJIVE1MID0gXCI8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nbmFtZScgaWQ9J2VkaXRlZCcgY2xhc3M9J2VkaXRDaXR5aW5wdXQnLz5cIjtcclxuICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0b0VkaXRMaXN0X19pdGVtLS1vcHRpb25zLS1kZWxldGUnKVxyXG4gICAgZWRpdEJ1dHRvbi5pbm5lclRleHQgPSAnRWR5dHVqJztcclxuICAgIGRlbGV0ZUJ1dHRvbi5pbm5lclRleHQgPSAnVXN1bic7XHJcbiAgICBjb25zb2xlLmxvZyhjaXRpZXNMaXN0KTtcclxuICAgIGNvbnNvbGUubG9nKGNpdGllc0xpc3QuaW5kZXhPZih0aGlzLmlubmVySFRNTCkpO1xyXG5cclxuICAgIGxldCBjdXJyZW50Q2l0eSA9IHRoaXMuaW5uZXJIVE1MO1xyXG4gICAgdGhpcy5yZXBsYWNlV2l0aChvcHRpb25zKTtcclxuICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjaXRpZXNMaXN0LnNwbGljZShjaXRpZXNMaXN0LmluZGV4T2YoY3VycmVudENpdHkpLCAxKTtcclxuICAgICAgICBjaXRpZXNfX3RvRWRpdExpc3QuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAvLyBnZW5lcmF0ZUNpdGllc0xpc3QoKTtcclxuICAgICAgICBjaXRpZXNMaXN0LmZvckVhY2goZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpXHJcbiAgICAgICAgICAgIGNpdGllc19fdG9FZGl0TGlzdC5hcHBlbmRDaGlsZChlbGVtZW50KVxyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NpdGllc19fdG9FZGl0TGlzdF9faXRlbScpXHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUub3JkZXIgPSBjaXRpZXNMaXN0LmluZGV4T2YoZSlcclxuICAgICAgICAgICAgZWxlbWVudC5pbm5lclRleHQgPSBlO1xyXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd09wdGlvbnMpO1xyXG4gICAgICAgICAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2l0aWVzX19pdGVtJykuZm9yRWFjaChlID0+IGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNpdGllc0xpc3QpXHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG4gICAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgICAvLyBsZXQgY3VycmVudENpdHkgPSBlZGl0QnV0dG9uLnRleHRDb250ZW50O1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGN1cnJlbnRDaXR5KVxyXG4gICAgICAgIGxldCBpbmRleFRvUmVtb3ZlID0gY2l0aWVzTGlzdC5pbmRleE9mKGN1cnJlbnRDaXR5KTtcclxuICAgICAgICBkZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBlZGl0QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgbGV0IGlucHV0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdGVkJyk7XHJcbiAgICAgICAgaW5wdXRGaWVsZC5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdGVkJykuY2xhc3NMaXN0ICs9IGAgcGxhY2Vob2xkZXIgPSAke2N1cnJlbnRDaXR5fWA7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGNpdGllc0xpc3QpXHJcbiAgICAgICAgbGV0IGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdGVkJyk7XHJcbiAgICAgICAgYS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCk9PntcclxuICAgICAgICAgICAgbGV0IG5ld0NpdHkgPSBhLnZhbHVlO1xyXG4gICAgICAgICAgICBjaXRpZXNMaXN0LnNwbGljZShpbmRleFRvUmVtb3ZlLDEgLCBuZXdDaXR5KTtcclxuICAgICAgICAgICAgaW5wdXRGaWVsZC5zdHlsZS5vcGFjaXR5ID0gMDtcclxuXHJcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpXHJcbiAgICAgICAgICAgIGNpdGllc19fdG9FZGl0TGlzdC5hcHBlbmRDaGlsZChlbGVtZW50KVxyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NpdGllc19fdG9FZGl0TGlzdF9faXRlbScpXHJcbiAgICAgICAgICAgIC8vIGVsZW1lbnQuc3R5bGUub3JkZXIgPSBjaXRpZXNMaXN0LmluZGV4T2YoZSlcclxuICAgICAgICAgICAgZWxlbWVudC5pbm5lclRleHQgPSBuZXdDaXR5O1xyXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd09wdGlvbnMpO1xyXG4gICAgICAgICAgICBpbnB1dEZpZWxkLnJlcGxhY2VXaXRoKGVsZW1lbnQpXHJcbiAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGNpdGllc0xpc3QpXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYSlcclxuXHJcblxyXG4gICAgICAgIC8vIGVkaXRCdXR0b24ucmVwbGFjZVdpdGgoZWRpdGVkKVxyXG5cclxuICAgICAgICAvLyBlZGl0QnV0dG9uLmlubmVySFRNTCA9IFwiPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J25hbWUnIGlkPSdlZGl0ZWQnIGNsYXNzPSdlZGl0Q2l0eWlucHV0Jy8+XCI7XHJcbiAgICAgICAgLy8gZWRpdEJ1dHRvbi5pbm5lckhUTUwgPSBcIjxpbnB1dCB0eXBlPSdzZWFyY2gnIGNsYXNzPSdjaXRpZXNfX2l0ZW0tLWlucHV0JyBpZD0nY3VzdG9tY2l0eScgbmFtZT0nY3VzdG9tY2l0eScgcGxhY2Vob2xkZXI9J0VkaXQnPlwiO1xyXG4gICAgICAgIC8vIGxldCBpbnB1dFRleHQgPSB0aGlzLmlubmVySFRNTCgpXHJcbiAgICAgICAgLy8gdGVtcElucHV0LnJlcGxhY2VXaXRoKGlucHV0VGV4dClcclxuXHJcbiAgICAgICAgLy8gbGV0IHNhdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgIGxldCBwID0gKCc8cCBkYXRhLWVkaXRhYmxlIC8+JykudGV4dChpbnB1dFRleHQudmFsdWUpO1xyXG4gICAgICAgIC8vICAgICBpbnB1dFRleHQucmVwbGFjZVdpdGgocCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGlucHV0VGV4dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgc2F2ZSk7XHJcblxyXG4gICAgICAgIC8vIGRlbGV0ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIC8vIC8vIHRoaXMuY2xhc3NMaXN0LmFkZCgndG9FZGl0TGlzdF9faXRlbS0tb3B0aW9ucy0tZWRpdC0taW5wdXQnKVxyXG4gICAgICAgIC8vIC8vIGVkaXRCdXR0b24uY2xhc3NMaXN0LmFkZCgndG9FZGl0TGlzdF9faXRlbS0tb3B0aW9ucy0tZWRpdC0taW5wdXQnKVxyXG4gICAgICAgIC8vIGVkaXRCdXR0b24uaW5uZXJIVE1MID0gYDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPSdlZGl0Q2l0eWlucHV0JyBwbGFjZWhvbGRlcj0gJHtjdXJyZW50Q2l0eX0+YDtcclxuICAgIH0pO1xyXG59XHJcblxyXG5hYm91dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbn0pO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgIGlmIChlLnRhcmdldCA9PT0gbW9kYWwpIHtcclxuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZUNpdGllc0xpc3QoKTtcclxufSlcclxuXHJcbnRvZGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZ2V0VmFsdWVzVG9kYXkpO1xyXG5cclxudG9tb3Jyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBnZXRWYWx1ZXNUb21vcnJvdyk7XHJcblxyXG5oYW1idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93Q2l0eUxpc3QpO1xyXG5cclxuc2V0dGluZ3MuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93U2V0dGluZ3NMaXN0KTtcclxuXHJcbnNlYXJjaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXN0b21jaXR5XCIpLnZhbHVlO1xyXG4gICAgICAgIGdldFZhbHVlc1RvZGF5KCk7XHJcbiAgICB9XHJcbik7XHJcblxyXG5jaXRpZXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZSA9PT0gKFwiY2l0aWVzX19pdGVtXCIpKSB7XHJcbiAgICAgICAgY2l0eSA9IGUudGFyZ2V0LnRleHRDb250ZW50O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGNpdHkpO1xyXG4gICAgICAgIGdldFZhbHVlc1RvZGF5KCk7XHJcbiAgICB9XHJcbiAgICBjaXRpZXMuY2xhc3NMaXN0LnRvZ2dsZShcImNpdGllcy0tdmlzaWJsZVwiKTtcclxuICAgIGhhbWJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKCdoYW1idXJnZXItLWFjdGl2ZScpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHNob3dDaXR5TGlzdCgpIHtcclxuICAgIC8vIGlmKG1vZGFsLnN0eWxlLmRpc3BsYXk9PT0nYmxvY2snKXtcclxuICAgIGhhbWJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKCdoYW1idXJnZXItLWFjdGl2ZScpO1xyXG4gICAgY2l0aWVzLmNsYXNzTGlzdC50b2dnbGUoXCJjaXRpZXMtLXZpc2libGVcIik7XHJcbiAgICAvLyBlbGVtZW50Tm9kZUxpc3RPZi5cclxuICAgIGdlbmVyYXRlQ2l0aWVzTGlzdCgpO1xyXG4gICAgLy8gfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUNpdGllc0xpc3QoKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2l0aWVzX19pdGVtJykuZm9yRWFjaChlID0+IGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSk7XHJcbiAgICBjaXRpZXNMaXN0LmZvckVhY2goZSA9PiB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJylcclxuICAgICAgICBjaXRpZXMuYXBwZW5kQ2hpbGQoZWxlbWVudClcclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NpdGllc19faXRlbScpXHJcbiAgICAgICAgZWxlbWVudC5pbm5lclRleHQgPSBlO1xyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd1NldHRpbmdzTGlzdCgpIHtcclxuICAgIHNldHRpbmdzTGlzdC5jbGFzc0xpc3QudG9nZ2xlKFwic2V0dGluZ3NfX2xpc3QtLXZpc2libGVcIik7XHJcbiAgICBzZXR0aW5nc0ltYWdlLmNsYXNzTGlzdC50b2dnbGUoJ3NldHRpbmdzX19pbWFnZS0tYWN0aXZlJyk7XHJcbiAgICBjaXRpZXNfX3RvRWRpdExpc3QuY2xhc3NMaXN0LnJlbW92ZSgnY2l0aWVzX190b0VkaXRMaXN0LS12aXNpYmxlJyk7XHJcbn1cclxuXHJcblxyXG4vLyBmdW5jdGlvbiBzaG93Q3VycmVudFRpbWUoKSB7XHJcbi8vICAgICAvLyBsZXQgbG9jYWwgPSBsb2NhbFRpbWU7XHJcbi8vICAgICB0aW1lLmlubmVySFRNTCA9IGAke2xvY2FsVGltZS5nZXRIb3VycygpfSA6ICR7bG9jYWxUaW1lLmdldE1pbnV0ZXMoKX0gOiAke2xvY2FsVGltZS5nZXRTZWNvbmRzKCl9YDtcclxuLy8gICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2hvd0N1cnJlbnRUaW1lKTtcclxuLy8gfVxyXG4vLyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNob3dDdXJyZW50VGltZSk7XHJcblxyXG5mdW5jdGlvbiBnZXRWYWx1ZXNUb2RheSgpIHtcclxuICAgIGN1cnJlbnRsb2NhdGlvbi5pbm5lckhUTUwgPSBjaXR5O1xyXG4gICAgdXJsV2hlYXRoZXIgPSB1cmwgKyBjaXR5O1xyXG4gICAgZmV0Y2godXJsV2hlYXRoZXIpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiByZXNwLmpzb24oKSlcclxuICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5mbyA9IHJlc3A7XHJcbiAgICAgICAgICAgIC8vIHZhciBkYXRlVG9zaG93ID0gbmV3IERhdGUoaW5mby5sb2NhdGlvbi5sb2NhbHRpbWUpO1xyXG4gICAgICAgICAgICAvLyB0aW1lLmlubmVySFRNTCA9IGRhdGVUb3Nob3cuZ2V0SG91cnMoKSArIFwiOlwiICsgZGF0ZVRvc2hvdy5nZXRNaW51dGVzKCk7XHJcbiAgICAgICAgICAgIC8vIGxvY2FsVGltZSA9IG5ldyBEYXRlKGluZm8ubG9jYXRpb24ubG9jYWx0aW1lKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobG9jYWxUaW1lKVxyXG4gICAgICAgICAgICB0ZW1wLmlubmVySFRNTCA9IGluZm8uY3VycmVudC50ZW1wX2MgKyBcIsKwQ1wiO1xyXG4gICAgICAgICAgICBodW1pZGl0eS5pbm5lckhUTUwgPSBpbmZvLmN1cnJlbnQuaHVtaWRpdHkgKyBcIiVcIjtcclxuICAgICAgICAgICAgY2xvdWRzLmlubmVySFRNTCA9IGluZm8uY3VycmVudC5jbG91ZCArIFwiJVwiO1xyXG4gICAgICAgICAgICB3aW5kLmlubmVySFRNTCA9IGluZm8uY3VycmVudC53aW5kX2twaCArIFwiIGttL2hcIjtcclxuICAgICAgICAgICAgY29uZGl0aW9uID0gaW5mby5jdXJyZW50LmNvbmRpdGlvbi5jb2RlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpbmZvLmN1cnJlbnQuY29uZGl0aW9uLnRleHQpO1xyXG4gICAgICAgICAgICBzdW5yaXNlLmlubmVySFRNTCA9IGluZm8uZm9yZWNhc3QuZm9yZWNhc3RkYXlbMF0uYXN0cm8uc3VucmlzZTtcclxuICAgICAgICAgICAgc3Vuc2V0LmlubmVySFRNTCA9IGluZm8uZm9yZWNhc3QuZm9yZWNhc3RkYXlbMF0uYXN0cm8uc3Vuc2V0O1xyXG4gICAgICAgICAgICBzZXRCYWNrZ3JvdW5kKGNvbmRpdGlvbik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkLFgsSFZCDFgmFkb3dhbmlhIGRhbnljaFwiKVxyXG4gICAgICAgIH0pO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0QmFja2dyb3VuZChjb25kaXRpb24pIHtcclxuICAgIHN3aXRjaCAoY29uZGl0aW9uKSB7XHJcbiAgICAgICAgY2FzZSAxMDAwOlxyXG4gICAgICAgICAgICBtYWluLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoXCJhc3NldHMvaW1nL3N1bm55LmpwZ1wiKSc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTAwMzpcclxuICAgICAgICAgICAgbWFpbi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKFwiYXNzZXRzL2ltZy9jbG91ZHkuanBnXCIpJztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxMDA2OlxyXG4gICAgICAgICAgICBtYWluLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoXCJhc3NldHMvaW1nL2Nsb3VkeS5qcGdcIiknO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDEwMDk6XHJcbiAgICAgICAgICAgIG1haW4uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybChcImFzc2V0cy9pbWcvb3ZlcmNhc3QuanBnXCIpJztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxMDMwOlxyXG4gICAgICAgICAgICBtYWluLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoXCJhc3NldHMvaW1nL21pc3QuanBnXCIpJztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxMDYzOlxyXG4gICAgICAgICAgICBtYWluLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoXCJhc3NldHMvaW1nL3BhdGNoeXJhaW4uanBnXCIpJztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxMDY2OlxyXG4gICAgICAgICAgICBtYWluLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoXCJhc3NldHMvaW1nL3BhdGNoeXNub3cuanBnXCIpJztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxMTg5OlxyXG4gICAgICAgICAgICBtYWluLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoXCJhc3NldHMvaW1nL21vZGVyYXRlcmFpbi5qcGdcIiknO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDEyNTg6XHJcbiAgICAgICAgICAgIG1haW4uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybChcImFzc2V0cy9pbWcvc25vd3Nob3dlci5qcGdcIiknO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBtYWluLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICckYmx1ZSc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFZhbHVlc1RvbW9ycm93KCkge1xyXG4gICAgY3VycmVudGxvY2F0aW9uLmlubmVySFRNTCA9IGNpdHk7XHJcbiAgICB1cmxXaGVhdGhlciA9IHVybCArIGNpdHkgKyBcIiZkYXlzPTJcIjtcclxuICAgIGZldGNoKHVybFdoZWF0aGVyKVxyXG4gICAgICAgIC50aGVuKHJlc3AgPT4gcmVzcC5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZm8gPSByZXNwO1xyXG4gICAgICAgICAgICB0ZW1wLmlubmVySFRNTCA9IGluZm8uZm9yZWNhc3QuZm9yZWNhc3RkYXlbMV0uZGF5Lm1heHRlbXBfYyArIFwiwrBDXCI7XHJcbiAgICAgICAgICAgIGh1bWlkaXR5LmlubmVySFRNTCA9IGluZm8uZm9yZWNhc3QuZm9yZWNhc3RkYXlbMV0uZGF5LmF2Z2h1bWlkaXR5ICsgXCIlXCI7XHJcbiAgICAgICAgICAgIGNsb3Vkcy5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICBjb25kaXRpb24gPSBpbmZvLmN1cnJlbnQuY29uZGl0aW9uLmNvZGU7XHJcbiAgICAgICAgICAgIHdpbmQuaW5uZXJIVE1MID0gaW5mby5mb3JlY2FzdC5mb3JlY2FzdGRheVsxXS5kYXkubWF4d2luZF9rcGggKyBcIiBrbS9oXCI7XHJcbiAgICAgICAgICAgIHN1bnJpc2UuaW5uZXJIVE1MID0gaW5mby5mb3JlY2FzdC5mb3JlY2FzdGRheVsxXS5hc3Ryby5zdW5yaXNlO1xyXG4gICAgICAgICAgICBzdW5zZXQuaW5uZXJIVE1MID0gaW5mby5mb3JlY2FzdC5mb3JlY2FzdGRheVsxXS5hc3Ryby5zdW5zZXQ7XHJcbiAgICAgICAgICAgIHNldEJhY2tncm91bmQoY29uZGl0aW9uKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQsWCxIVkIMWCYWRvd2FuaWEgZGFueWNoXCIpXHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")}]);